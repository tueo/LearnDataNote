"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[865],{3671:(o,e)=>{e.A=(o,e)=>{const c=o.__vccOpts||o;for(const[o,t]of e)c[o]=t;return c}},9874:(o,e,c)=>{c.r(e),c.d(e,{comp:()=>r,data:()=>p});var t=c(7847);const n=[(0,t.Fv)('<h1 id="kconfig文件" tabindex="-1"><a class="header-anchor" href="#kconfig文件"><span>kconfig文件</span></a></h1><p>在调整项目编译结构时，需要使用python的 kconfiglib库来解析kconfig文件，但是调整的一个kconfig文件一直无法被感知到。</p><p>一开始怀疑是该kconfig文件没有使用menu的原因，但是从kconfig文档看，应该不存在该问题。</p><p>最终定位到是<code>source</code>语法的使用问题。</p><p>在项目中， top level的kconfig文件使用<code>orsource</code>包含了中间层的A kconfig文件（为项目调整编写的新的kconfig文件）。 A kconfig文件使用<code>osource</code>包含目标B kconfig文件。</p><p>测试发现一直无法生成B kconfig文件对应的cmake变量。最后才看到漏掉了<code>orsource</code>的<code>r</code>。</p><p><img src="https://raw.githubusercontent.com/tueo/cloudimg/main/img/20240522202629.png" alt="" loading="lazy"> 其间也怀疑过osource使用存在问题，使用gpt查询<code>osource</code>和<code>orsource</code>的差异，结果被gpt的错误答案误导了😭</p><p>在kconfiglib中有如下描述：</p><p><code>source</code> 用来引入其他的kconfig文件。 <code>osource</code> 表示optional source，表示可选的，如果osource指定的kconfig文件不存在，编译不会报错，将继续下去。 <code>rsource</code> 表示relative source，后面应用的kconfig文件支持相对路径，路径相对于包含rsource语句的kconfig而言。 <code>orsource</code> 则是<code>osource</code>和<code>rsource</code>的接合。</p><p>osurce rsource orsource等其实是kconfiglib提供的kconfig的扩展。</p>',10)],i={},r=(0,c(3671).A)(i,[["render",function(o,e){return(0,t.uX)(),(0,t.CE)("div",null,n)}]]),p=JSON.parse('{"path":"/protocol/kconfig.html","title":"kconfig文件","lang":"zh-CN","frontmatter":{"description":"kconfig文件 在调整项目编译结构时，需要使用python的 kconfiglib库来解析kconfig文件，但是调整的一个kconfig文件一直无法被感知到。 一开始怀疑是该kconfig文件没有使用menu的原因，但是从kconfig文档看，应该不存在该问题。 最终定位到是source语法的使用问题。 在项目中， top level的kconf...","head":[["meta",{"property":"og:url","content":"https://newzone.top/protocol/kconfig.html"}],["meta",{"property":"og:site_name","content":"三月的油菜花"}],["meta",{"property":"og:title","content":"kconfig文件"}],["meta",{"property":"og:description","content":"kconfig文件 在调整项目编译结构时，需要使用python的 kconfiglib库来解析kconfig文件，但是调整的一个kconfig文件一直无法被感知到。 一开始怀疑是该kconfig文件没有使用menu的原因，但是从kconfig文档看，应该不存在该问题。 最终定位到是source语法的使用问题。 在项目中， top level的kconf..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/tueo/cloudimg/main/img/20240522202629.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-13T09:14:03.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"kconfig文件"}],["meta",{"property":"article:author","content":"LearnData"}],["meta",{"property":"article:modified_time","content":"2024-06-13T09:14:03.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"kconfig文件\\",\\"image\\":[\\"https://raw.githubusercontent.com/tueo/cloudimg/main/img/20240522202629.png\\"],\\"dateModified\\":\\"2024-06-13T09:14:03.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LearnData\\",\\"url\\":\\"https://newzone.top\\"}]}"]]},"headers":[],"git":{"createdTime":1718270043000,"updatedTime":1718270043000,"contributors":[{"name":"quectel_lte","email":"Product_ruiwei@163.com","commits":1}]},"readingTime":{"minutes":1.07,"words":322},"filePathRelative":"protocol/kconfig.md","localizedDate":"2024年6月13日","excerpt":"\\n<p>在调整项目编译结构时，需要使用python的 kconfiglib库来解析kconfig文件，但是调整的一个kconfig文件一直无法被感知到。</p>\\n<p>一开始怀疑是该kconfig文件没有使用menu的原因，但是从kconfig文档看，应该不存在该问题。</p>\\n<p>最终定位到是<code>source</code>语法的使用问题。</p>\\n<p>在项目中， top level的kconfig文件使用<code>orsource</code>包含了中间层的A kconfig文件（为项目调整编写的新的kconfig文件）。 A kconfig文件使用<code>osource</code>包含目标B kconfig文件。</p>","autoDesc":true}')}}]);